{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\BELAJAR\\\\BelajarGeh\\\\fe\\\\src\\\\component\\\\content\\\\mahasiswa\\\\createMahasiswa.js\";\nimport React from 'react';\nimport { Modal, ModalBody, ModalFooter, ModalHeader, Button } from 'reactstrap';\nimport axios from 'axios';\nimport apiconfig from '../../../config/api.config.json';\nimport ReactDOM from 'react-dom';\nimport Select from \"react-select\";\n\nclass createMahasiswa extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onAddingItem = i => event => {\n      this.setState((state, props) => {\n        state.productsList[i].isChecked = !state.productsList[i].isChecked;\n        return {\n          productsList: state.productsList\n        };\n      });\n    };\n\n    this.handleChange1 = selectedOption => {\n      this.setState({\n        selectedOption\n      });\n    };\n\n    this.handleChange2 = selectedOption => {\n      this.setState({\n        selectedOption2: selectedOption\n      });\n    };\n\n    this.submitHandler = event => {\n      event.preventDefault();\n      event.target.className += \" was-validated\";\n      const isValid = this.validate();\n\n      if (isValid == false) {// alert(this.state.formdata.nameError)\n      } else {\n        let selectedProductsArray = this.state.productsList.filter((product, i) => {\n          return product.isChecked;\n        });\n        let kota = this.state.selectedOption2.value;\n        let stringHobi = '';\n        let tmp = this.state.formdata;\n        selectedProductsArray.map(row => {\n          if (stringHobi !== '') {\n            stringHobi = stringHobi + ', ' + row.name;\n          } else {\n            stringHobi = row.name;\n          }\n        });\n        tmp['hobi'] = stringHobi;\n        tmp.kode_kota = kota;\n        this.setState({\n          formdata: tmp\n        }); //alert(JSON.stringify(this.state.formdata))\n\n        let token = localStorage.getItem(apiconfig.LS.TOKEN);\n        let option = {\n          url: apiconfig.BASE_URL + apiconfig.ENDPOINTS.MAHASISWA,\n          method: \"post\",\n          headers: {\n            \"authorization\": token,\n            \"Content-type\": \"application/json\"\n          },\n          data: this.state.formdata\n        };\n        axios(option).then(Response => {\n          if (Response.data.code == 200) {\n            alert('Succes');\n            this.props.modalStatus();\n            window.location.reload(); //alert(JSON.stringify(this.state.formdata))\n          } else {\n            alert(Response.data.message);\n          }\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    };\n\n    this.state = {\n      formdata: {\n        kode_mahasiswa: '',\n        nama_mahasiswa: '',\n        alamat: '',\n        kode_agama: '',\n        kode_jurusan: '',\n        jenis_kelamin: '',\n        hobi: '',\n        kode_kota: '',\n        is_deleted: 'false',\n        kode_provinsi: ''\n      },\n      provinsi: [],\n      kota: [],\n      listKota: [],\n      listProvinsi: [],\n      selectedOption: {},\n      selectedOption2: {},\n      productsList: [{\n        name: 'Bermain',\n        isChecked: false\n      }, {\n        name: 'Makan',\n        isChecked: false\n      }, {\n        name: 'Tidur',\n        isChecked: false\n      }, {\n        name: 'Mager',\n        isChecked: false\n      }]\n    };\n    this.submitHandler = this.submitHandler.bind(this);\n    this.changeHandler = this.changeHandler.bind(this); // this.handleOnChange = this.handleOnChange.bind(this)\n  }\n\n  componentWillReceiveProps(newProps) {\n    this.setState({\n      productsList: newProps.productsList\n    });\n  }\n\n  validate() {\n    let nameError = \"\";\n\n    if (!this.state.formdata.kode_mahasiswa || !this.state.formdata.nama_mahasiswa || !this.state.formdata.alamat || !this.state.formdata.kode_agama || !this.state.formdata.kode_jurusan || !this.state.formdata.jenis_kelamin) {\n      nameError = \"Semua field Harus Diisi\";\n    }\n\n    if (nameError) {\n      this.state.formdata.nameError = nameError;\n      return false;\n    }\n\n    return true;\n  }\n\n  getProvinsi() {\n    let token = localStorage.getItem(apiconfig.LS.TOKEN);\n    let option = {\n      url: apiconfig.BASE_URL + apiconfig.ENDPOINTS.PROVINSI,\n      method: \"get\",\n      headers: {\n        \"authorization\": token\n      }\n    };\n    axios(option).then(response => {\n      let tmp = [];\n      response.data.message.map(row => {\n        tmp.push({\n          value: row.kode_provinsi,\n          label: row.nama_provinsi\n        });\n      });\n      this.setState({\n        listProvinsi: tmp,\n        provinsi: response.data.message\n      });\n    }).catch(error => {\n      alert(error);\n    });\n  }\n\n  getKota() {\n    let token = localStorage.getItem(apiconfig.LS.TOKEN);\n    let option = {\n      url: apiconfig.BASE_URL + apiconfig.ENDPOINTS.KOTA,\n      method: \"get\",\n      headers: {\n        \"authorization\": token\n      }\n    };\n    axios(option).then(response => {\n      let tmp = [];\n      response.data.message.map(row => {\n        tmp.push({\n          value: row.kode_kota,\n          label: row.nama_kota,\n          link: row.kode_provinsi\n        });\n      });\n      this.setState({\n        listKota: tmp,\n        kota: response.data.message\n      });\n    }).catch(error => {\n      alert(error);\n    });\n  }\n\n  componentDidMount() {\n    this.getProvinsi();\n    this.getKota();\n  } // handleOnChange(values) {\n  // this.setState({ values });\n  // }\n\n\n  changeHandler(e) {\n    let tmp = this.state.formdata;\n    tmp[e.target.name] = e.target.value;\n    this.setState({\n      formdata: tmp\n    });\n  }\n\n  render() {\n    const options1 = this.state.listProvinsi;\n    const options2 = this.state.listKota;\n    const filteredOptions = options2.filter(o => o.link === this.state.selectedOption.value);\n    let productsList = this.state.productsList;\n    return React.createElement(Modal, {\n      isOpen: this.props.create,\n      className: this.props.className,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(ModalHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, \"Insert Data\"), React.createElement(ModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"kode_mahasiswa\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, \"Kode Mahasiswa\"), React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      name: \"kode_mahasiswa\",\n      value: this.state.formdata.kode_mahasiswa,\n      onChange: this.changeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"exampleInputEmail1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, \"Nama Mahasiswa\"), React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      name: \"nama_mahasiswa\",\n      value: this.state.formdata.nama_mahasiswa,\n      onChange: this.changeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"exampleInputEmail1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, \"Alamat\"), React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      name: \"alamat\",\n      value: this.state.formdata.alamat,\n      onChange: this.changeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    })), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, \" Pilih Provinsi : \"), React.createElement(Select, {\n      placeholder: \"Pilih Provinsi\",\n      name: \"kode_provinsi\",\n      value: this.state.selectedOption.kode_provinsi,\n      onChange: this.handleChange1,\n      options: options1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \" Kota : \"), React.createElement(Select, {\n      type: \"text\",\n      class: \"form-control\",\n      placeholder: \"Pilih kota\",\n      name: \"kode_kota\",\n      value: this.state.selectedOption2.kode_kota //onChange={this.changeHandler}\n      ,\n      onChange: this.handleChange2,\n      options: filteredOptions,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    })))), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"kode_mahasiswa\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, \"Kode Agama\"), React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      name: \"kode_agama\",\n      value: this.state.formdata.kode_agama,\n      onChange: this.changeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"exampleInputEmail1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, \"Kode Agama\"), React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      name: \"kode_jurusan\",\n      value: this.state.formdata.kode_jurusan,\n      onChange: this.changeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    })))), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"kode_mahasiswa\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, \"Kode Kota\"), React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      name: \"kode_kota\",\n      value: this.state.formdata.kode_kota,\n      onChange: this.changeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"exampleInputEmail1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323\n      },\n      __self: this\n    }, \"Kode Provinsi\"), React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      name: \"kode_provinsi\",\n      value: this.state.formdata.kode_provinsi,\n      onChange: this.changeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"kode jurusan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, \"Jenis Kelamin\")), React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"custom-control custom-radio custom-control-inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"jenis_kelamin1\",\n      name: \"jenis_kelamin\",\n      value: \"Laki-laki\",\n      checked: this.state.formdata.jenis_kelamin === 'Laki-laki',\n      onChange: this.changeHandler,\n      class: \"custom-control-input\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      class: \"custom-control-label\",\n      for: \"jenis_kelamin1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346\n      },\n      __self: this\n    }, \"Laki-laki\")), React.createElement(\"div\", {\n      class: \"custom-control custom-radio custom-control-inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"jenis_kelamin2\",\n      name: \"jenis_kelamin\",\n      value: \"Perempuan\",\n      checked: this.state.formdata.jenis_kelamin === 'Perempuan',\n      onChange: this.changeHandler,\n      class: \"custom-control-input\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      class: \"custom-control-label\",\n      for: \"jenis_kelamin2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, \"Perempuan\"))), React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"hobi\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    }, \"Hobi\"), React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }, productsList.map((product, i) => {\n      return React.createElement(\"tr\", {\n        key: i + 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }, product.name), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-check form-check-inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        class: \"checkbox-checked\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: product.name,\n        checked: product.isChecked,\n        onChange: this.onAddingItem(i),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371\n        },\n        __self: this\n      })))));\n    }))))), React.createElement(ModalFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"warning\",\n      onClick: this.props.modalStatus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388\n      },\n      __self: this\n    }, \"Cancel\"), React.createElement(Button, {\n      color: \"primary\",\n      onClick: this.submitHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391\n      },\n      __self: this\n    }, \"Save\")));\n  }\n\n}\n\nexport default createMahasiswa;\nReactDOM.render(React.createElement(\"createMahasiswa\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 402\n  },\n  __self: this\n}), document.getElementById('app'));","map":{"version":3,"sources":["C:/Users/USER/Documents/BELAJAR/BelajarGeh/fe/src/component/content/mahasiswa/createMahasiswa.js"],"names":["React","Modal","ModalBody","ModalFooter","ModalHeader","Button","axios","apiconfig","ReactDOM","Select","createMahasiswa","Component","constructor","props","onAddingItem","i","event","setState","state","productsList","isChecked","handleChange1","selectedOption","handleChange2","selectedOption2","submitHandler","preventDefault","target","className","isValid","validate","selectedProductsArray","filter","product","kota","value","stringHobi","tmp","formdata","map","row","name","kode_kota","token","localStorage","getItem","LS","TOKEN","option","url","BASE_URL","ENDPOINTS","MAHASISWA","method","headers","data","then","Response","code","alert","modalStatus","window","location","reload","message","catch","error","console","log","kode_mahasiswa","nama_mahasiswa","alamat","kode_agama","kode_jurusan","jenis_kelamin","hobi","is_deleted","kode_provinsi","provinsi","listKota","listProvinsi","bind","changeHandler","componentWillReceiveProps","newProps","nameError","getProvinsi","PROVINSI","response","push","label","nama_provinsi","getKota","KOTA","nama_kota","link","componentDidMount","e","render","options1","options2","filteredOptions","o","create","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {Modal, ModalBody, ModalFooter, ModalHeader, Button} from 'reactstrap'\r\nimport axios from 'axios'\r\nimport apiconfig from '../../../config/api.config.json'\r\nimport ReactDOM from 'react-dom'\r\nimport Select from \"react-select\"\r\n\r\nclass createMahasiswa extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state ={\r\n            formdata : {\r\n                kode_mahasiswa :'',\r\n                nama_mahasiswa :'',\r\n                alamat : '',\r\n                kode_agama : '',\r\n                kode_jurusan :'',\r\n                jenis_kelamin : '',\r\n                hobi : '',\r\n                kode_kota : '',\r\n                is_deleted: 'false',\r\n                kode_provinsi: ''\r\n            },\r\n            provinsi: [],\r\n            kota: [],\r\n            listKota: [],\r\n            listProvinsi: [],\r\n            selectedOption:{},\r\n            selectedOption2:{},\r\n        \r\n            productsList :[\r\n                {name: 'Bermain', isChecked: false},\r\n                {name: 'Makan', isChecked: false},\r\n                {name: 'Tidur', isChecked: false},\r\n                {name: 'Mager', isChecked: false},\r\n              ]\r\n        }\r\n        this.submitHandler = this.submitHandler.bind(this)\r\n        this.changeHandler = this.changeHandler.bind(this)\r\n        // this.handleOnChange = this.handleOnChange.bind(this)\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        this.setState({\r\n            productsList : newProps.productsList\r\n        })\r\n  \r\n    }\r\n  \r\n      onAddingItem = (i) => (event) => {\r\n        this.setState((state, props) => {\r\n            state.productsList[i].isChecked = !state.productsList[i].isChecked;\r\n               return {\r\n            productsList: state.productsList\r\n               }\r\n             })\r\n      }\r\n      validate(){\r\n        let nameError =\"\"\r\n            if (!this.state.formdata.kode_mahasiswa || !this.state.formdata.nama_mahasiswa||!this.state.formdata.alamat||!this.state.formdata.kode_agama||!this.state.formdata.kode_jurusan||!this.state.formdata.jenis_kelamin){\r\n            nameError = \"Semua field Harus Diisi\"\r\n        } \r\n        if (nameError){\r\n          this.state.formdata.nameError = nameError\r\n          return false\r\n        }\r\n        return true\r\n      }\r\n  \r\n      handleChange1 = (selectedOption) => {\r\n          this.setState({selectedOption});\r\n        };\r\n      \r\n      handleChange2 = (selectedOption) => {\r\n          this.setState({selectedOption2: selectedOption })\r\n        }\r\n      \r\n      getProvinsi() {\r\n          let token = localStorage.getItem(apiconfig.LS.TOKEN);\r\n          let option = {\r\n            url: apiconfig.BASE_URL + apiconfig.ENDPOINTS.PROVINSI,\r\n            method: \"get\",\r\n            headers: {\r\n              \"authorization\": token\r\n            }\r\n          };\r\n      axios(option)\r\n            .then(response => {\r\n              let tmp = [];\r\n      \r\n              response.data.message.map(row => {\r\n                tmp.push({\r\n                  value: row.kode_provinsi,\r\n                  label: row.nama_provinsi\r\n                });\r\n              });\r\n              this.setState({\r\n                listProvinsi: tmp,\r\n                provinsi: response.data.message\r\n              });\r\n            })\r\n            .catch(error => {\r\n              alert(error);\r\n            });\r\n        }\r\n      \r\n      getKota() {\r\n          let token = localStorage.getItem(apiconfig.LS.TOKEN);\r\n          let option = {\r\n            url: apiconfig.BASE_URL + apiconfig.ENDPOINTS.KOTA,\r\n            method: \"get\",\r\n            headers: {\r\n              \"authorization\": token\r\n            }\r\n          };\r\n          axios(option)\r\n            .then(response => {\r\n              let tmp = [];\r\n      \r\n              response.data.message.map(row => {\r\n                tmp.push({\r\n                  value: row.kode_kota,\r\n                  label: row.nama_kota,\r\n                  link : row.kode_provinsi\r\n                });\r\n              });\r\n              this.setState({\r\n                listKota: tmp,\r\n                kota: response.data.message\r\n              });\r\n             \r\n            })\r\n            .catch(error => {\r\n              alert(error);\r\n            });\r\n        }\r\n      \r\n      componentDidMount() {\r\n          this.getProvinsi();\r\n          this.getKota();\r\n        }\r\n\r\n    // handleOnChange(values) {\r\n    // this.setState({ values });\r\n    // }\r\n\r\n    changeHandler(e){\r\n        let tmp = this.state.formdata\r\n        tmp[e.target.name]=e.target.value\r\n        this.setState({\r\n            formdata : tmp\r\n        })\r\n    }\r\n    submitHandler= event => {\r\n        event.preventDefault();\r\n        event.target.className += \" was-validated\";\r\n        const isValid = this.validate()\r\n        \r\n            if (isValid == false){\r\n              // alert(this.state.formdata.nameError)\r\n  \r\n            }else{ \r\n              let selectedProductsArray = this.state.productsList.filter((product, i)=>{\r\n              return product.isChecked});\r\n              let kota = this.state.selectedOption2.value\r\n              let stringHobi = ''\r\n              let tmp = this.state.formdata\r\n              selectedProductsArray.map((row) => {\r\n                if (stringHobi !== '') {\r\n                    stringHobi = stringHobi +', ' + row.name\r\n                } else {\r\n                    stringHobi = row.name\r\n                }\r\n            })\r\n    \r\n              tmp['hobi'] = stringHobi\r\n              tmp.kode_kota = kota\r\n  \r\n              this.setState({\r\n                  formdata : tmp\r\n                  })\r\n          //alert(JSON.stringify(this.state.formdata))\r\n          let token = localStorage.getItem(apiconfig.LS.TOKEN)\r\n          let option = {\r\n              url : apiconfig.BASE_URL+apiconfig.ENDPOINTS.MAHASISWA,\r\n              method : \"post\",\r\n              headers:{\r\n                  \"authorization\" : token,\r\n                  \"Content-type\": \"application/json\"\r\n              },\r\n              data: this.state.formdata\r\n          }\r\n          axios(option)\r\n          .then((Response)=> {\r\n              if(Response.data.code == 200){\r\n                  alert('Succes')\r\n                  this.props.modalStatus()\r\n                  window.location.reload()\r\n                  //alert(JSON.stringify(this.state.formdata))\r\n              }else{\r\n                  alert(Response.data.message)\r\n              }\r\n          })\r\n          .catch((error) =>{\r\n              console.log(error);\r\n          })\r\n        }\r\n      }\r\n\r\n    render() {\r\n        const options1 = this.state.listProvinsi;\r\n        const options2 =this.state.listKota;\r\n\r\n        const filteredOptions = options2.filter(\r\n        o => o.link === this.state.selectedOption.value)\r\n\r\n        let {productsList} =  this.state;\r\n        return (\r\n            <Modal isOpen={this.props.create} className={this.props.className}>\r\n                <ModalHeader>Insert Data</ModalHeader>\r\n                <ModalBody>\r\n\r\n                <form>\r\n                  <div class=\"row\">\r\n                    <div class=\"col\">\r\n                      <label for=\"kode_mahasiswa\">Kode Mahasiswa</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                name=\"kode_mahasiswa\"\r\n                                value={this.state.formdata.kode_mahasiswa}\r\n                                onChange={this.changeHandler}\r\n                            />\r\n                        </div>\r\n                          <div class=\"col\">\r\n                          <label for=\"exampleInputEmail1\">Nama Mahasiswa</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                name=\"nama_mahasiswa\"\r\n                                value={this.state.formdata.nama_mahasiswa}\r\n                                onChange={this.changeHandler}\r\n                            />\r\n                        </div>\r\n                      </div>\r\n                    </form>\r\n\r\n                            \r\n                            <div class=\"form-group\">\r\n                            <label for=\"exampleInputEmail1\">Alamat</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                name=\"alamat\"\r\n                                value={this.state.formdata.alamat}\r\n                                onChange={this.changeHandler}\r\n                            />\r\n                        </div>\r\n\r\n                        <form>\r\n                  <div class=\"row\">\r\n                    <div class=\"col\">\r\n                    <label for=\"text\"> Pilih Provinsi : </label>\r\n                        <Select\r\n                        placeholder=\"Pilih Provinsi\" \r\n                        name=\"kode_provinsi\"\r\n                        value={this.state.selectedOption.kode_provinsi}\r\n                        onChange={this.handleChange1}\r\n                        options={options1}\r\n                        />\r\n                        </div>\r\n                          <div class=\"col\">\r\n                          <label for=\"text\"> Kota : </label>\r\n                          <Select type=\"text\" class=\"form-control\" placeholder=\"Pilih kota\" \r\n                          name=\"kode_kota\" \r\n                          value={this.state.selectedOption2.kode_kota} \r\n                          //onChange={this.changeHandler}\r\n                          onChange={this.handleChange2}\r\n                          options={filteredOptions}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </form>\r\n\r\n                    <form>\r\n                  <div class=\"row\">\r\n                    <div class=\"col\">\r\n                      <label for=\"kode_mahasiswa\">Kode Agama</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                name=\"kode_agama\"\r\n                                value={this.state.formdata.kode_agama}\r\n                                onChange={this.changeHandler}\r\n                            />\r\n                        </div>\r\n                          <div class=\"col\">\r\n                          <label for=\"exampleInputEmail1\">Kode Agama</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                name=\"kode_jurusan\"\r\n                                value={this.state.formdata.kode_jurusan}\r\n                                onChange={this.changeHandler}\r\n                            />\r\n                        </div>\r\n                      </div>\r\n                    </form>\r\n\r\n                    <form>\r\n                  <div class=\"row\">\r\n                    <div class=\"col\">\r\n                      <label for=\"kode_mahasiswa\">Kode Kota</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                name=\"kode_kota\"\r\n                                value={this.state.formdata.kode_kota}\r\n                                onChange={this.changeHandler}\r\n                            />\r\n                        </div>\r\n                          <div class=\"col\">\r\n                          <label for=\"exampleInputEmail1\">Kode Provinsi</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                name=\"kode_provinsi\"\r\n                                value={this.state.formdata.kode_provinsi}\r\n                                onChange={this.changeHandler}\r\n                            />\r\n                        </div>\r\n                      </div>\r\n                    </form>\r\n\r\n                        <div class=\"form-group\">\r\n            <label for=\"kode jurusan\">Jenis Kelamin</label>\r\n            </div>\r\n\r\n                    <div class=\"form-group\">\r\n                        <div class=\"custom-control custom-radio custom-control-inline\">\r\n                            <input type=\"radio\" id='jenis_kelamin1' name = 'jenis_kelamin'\r\n                            value='Laki-laki'\r\n                            checked={this.state.formdata.jenis_kelamin === 'Laki-laki'}\r\n                            onChange={this.changeHandler}\r\n                            class='custom-control-input' required />\r\n                            <label class='custom-control-label' for ='jenis_kelamin1'>Laki-laki</label>\r\n                            </div>\r\n\r\n                            <div class=\"custom-control custom-radio custom-control-inline\">\r\n                            <input type=\"radio\" id='jenis_kelamin2' name = 'jenis_kelamin'\r\n                            value='Perempuan'\r\n                            checked={this.state.formdata.jenis_kelamin === 'Perempuan'}\r\n                            onChange={this.changeHandler}\r\n                            class='custom-control-input' required />\r\n                            <label class='custom-control-label' for ='jenis_kelamin2'>Perempuan</label>\r\n                            </div>\r\n                    </div>\r\n\r\n\r\n                        <div class=\"form-group\">\r\n                            <label for=\"hobi\">Hobi</label>\r\n                            <table>\r\n                                <tbody>\r\n                                    { productsList.map((product, i) =>{\r\n                                        return(\r\n                                            <tr key={i+1}>\r\n                                                <td>{product.name}</td>\r\n                                                <td>\r\n                                                    <div class=\"form-check form-check-inline\">\r\n                                                        <label class=\"checkbox-checked\">\r\n                                                            <input type=\"checkbox\" \r\n                                                            value={product.name} \r\n                                                            checked={product.isChecked} \r\n                                                            onChange={this.onAddingItem(i)}/>\r\n                                                        </label>\r\n                                                    </div>\r\n                                                </td>\r\n                                            </tr>\r\n                                        )\r\n                                    })}\r\n                                    \r\n                                </tbody>\r\n                            </table>\r\n                        \r\n                        </div>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <Button color=\"warning\" onClick={this.props.modalStatus}>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button color=\"primary\" onClick={this.submitHandler}>\r\n                        Save\r\n                    </Button>\r\n                </ModalFooter>\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n\r\nexport default createMahasiswa\r\n\r\nReactDOM.render( <\r\n  createMahasiswa / > ,\r\n  document.getElementById('app')\r\n)"]},"metadata":{},"sourceType":"module"}