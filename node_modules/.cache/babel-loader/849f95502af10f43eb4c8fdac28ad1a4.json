{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\BELAJAR\\\\BelajarGeh\\\\fe\\\\src\\\\component\\\\content\\\\mahasiswa\\\\ListMahasiswa.js\";\nimport React from 'react';\nimport apiconfig from '../../../config/api.config.json';\nimport ViewMahasiswa from './viewMahasiswa';\nimport EditMahasiswa from './editMahasiswa';\nimport DeletMahasiswa from './deletMahasiswa';\nimport CreateMahasiswa from './createMahasiswa';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { MDBDataTable } from 'mdbreact';\n\nclass ListMahasiswa extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      mahasiswa: [],\n      listmahasiswa: [],\n      currentMahasiswa: {},\n      productsListNew: []\n    };\n    this.viewModalHandler = this.viewModalHandler.bind(this);\n    this.editModalHandler = this.editModalHandler.bind(this);\n    this.deletedModalHandler = this.deletedModalHandler.bind(this);\n    this.createModelHandler = this.createModelHandler.bind(this);\n    this.getListHobi = this.getListHobi.bind(this);\n    this.modalStatus = this.modalStatus.bind(this);\n  }\n\n  getListHobi() {\n    let productsList = [{\n      name: 'Bermain',\n      isChecked: false\n    }, {\n      name: 'Makan',\n      isChecked: false\n    }, {\n      name: 'Tidur',\n      isChecked: false\n    }, {\n      name: 'Mager',\n      isChecked: false\n    }];\n    return productsList;\n  }\n\n  getListMahasiswa() {\n    let token = localStorage.getItem(apiconfig.LS.TOKEN);\n    let option = {\n      url: apiconfig.BASE_URL + apiconfig.ENDPOINTS.MAHASISWA,\n      method: \"get\",\n      headers: {\n        \"Authorization\": token\n      }\n    };\n    axios(option).then(response => {\n      let tmp = [];\n      response.data.message.map((row, x) => {\n        let customButton = React.createElement(\"div\", {\n          class: \"dropdown\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          class: \"btn btn-primary dropdown-toggle\",\n          className: \"fas fa-th-large\",\n          id: \"dropdownMenu2\",\n          \"data-toggle\": \"dropdown\",\n          \"aria-haspopup\": \"true\",\n          \"aria-expanded\": \"false\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          class: \"dropdown-menu\",\n          \"aria-labelledby\": \"dropdownMenu2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"#\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          class: \"dropdown-item\",\n          type: \"button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          onClick: () => {\n            this.viewModalHandler(row.kode_mahasiswa);\n          },\n          class: \"fa fa-search\",\n          style: {\n            fontSize: '10px',\n            paddingRight: '8px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        })), React.createElement(\"button\", {\n          class: \"dropdown-item\",\n          type: \"button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          onClick: () => {\n            this.editModalHandler(row.kode_mahasiswa);\n          },\n          class: \"fa fa-edit\",\n          style: {\n            fontSize: '10px',\n            paddingRight: '8px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        })), React.createElement(\"button\", {\n          class: \"dropdown-item\",\n          type: \"button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          onClick: () => {\n            this.deletedModalHandler(row.kode_mahasiswa);\n          },\n          class: \"fa fa-trash\",\n          style: {\n            fontSize: '10px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        })))));\n        tmp.push({\n          \"no\": x + 1,\n          \"kode_mahasiswa\": row.kode_mahasiswa,\n          \"nama_mahasiswa\": row.nama_mahasiswa,\n          \"alamat\": row.alamat,\n          \"kode_agama\": row.kode_agama,\n          \"kode_jurusan\": row.kode_jurusan,\n          \"jenis_kelamin\": row.jenis_kelamin,\n          \"hobi\": row.hobi,\n          \"kode_kota\": row.kode_kota,\n          customButton\n        });\n      });\n      this.setState({\n        listmahasiswa: tmp,\n        mahasiswa: response.data.message\n      });\n    }).catch(error => {\n      alert(error);\n    });\n  }\n\n  componentDidMount() {\n    this.getListMahasiswa();\n  }\n\n  createModelHandler() {\n    this.setState({\n      createMahasiswa: true\n    });\n  }\n\n  viewModalHandler(kode_mahasiswa) {\n    let tmp = {};\n    let tmpHobi = this.getListHobi();\n    this.state.mahasiswa.map(ele => {\n      if (kode_mahasiswa == ele.kode_mahasiswa) {\n        tmp = ele;\n      }\n    });\n    let array = tmp.hobi.split(',');\n    tmpHobi.map(rows => {\n      array.forEach(ele => {\n        if (ele.trim() == rows.name) {\n          rows.isChecked = !rows.isChecked;\n        }\n      });\n    });\n    this.setState({\n      currentMahasiswa: tmp,\n      viewMahasiswa: true,\n      productsListNew: tmpHobi\n    });\n  }\n\n  editModalHandler(kode_mahasiswa) {\n    let tmp = {};\n    let tmpHobi = this.getListHobi();\n    this.state.mahasiswa.map(ele => {\n      if (kode_mahasiswa == ele.kode_mahasiswa) {\n        tmp = ele;\n      }\n    });\n    let array = tmp.hobi.split(',');\n    tmpHobi.map(rows => {\n      array.forEach(ele => {\n        if (ele.trim() == rows.name) {\n          rows.isChecked = !rows.isChecked;\n        }\n      });\n    });\n    this.setState({\n      currentMahasiswa: tmp,\n      editMahasiswa: true,\n      productsListNew: tmpHobi\n    });\n  }\n\n  deletedModalHandler(kode_mahasiswa) {\n    this.state.mahasiswa.map(ele => {\n      if (kode_mahasiswa == ele.kode_mahasiswa) {\n        this.setState({\n          currentMahasiswa: ele,\n          deletMahasiswa: true\n        });\n      }\n    });\n  }\n\n  modalStatus() {\n    this.setState({\n      createMahasiswa: false,\n      viewMahasiswa: false,\n      editMahasiswa: false,\n      deletMahasiswa: false\n    });\n    this.getListMahasiswa();\n  }\n\n  render() {\n    const data = {\n      columns: [{\n        label: \"No\",\n        field: \"no\",\n        sort: \"asc\",\n        width: 150\n      }, {\n        label: \"Kode Mahasiswa\",\n        field: \"kode_mahasiswa\",\n        sort: \"asc\",\n        width: 150\n      }, {\n        label: \"Nama Mahasiswa\",\n        field: \"nama_mahasiswa\",\n        sort: \"asc\",\n        width: 270\n      }, {\n        label: \"Alamat\",\n        field: \"alamat\",\n        sort: \"asc\",\n        width: 200\n      }, {\n        label: \"Kode Agama\",\n        field: \"kode_agama\",\n        sort: \"asc\",\n        width: 100\n      }, {\n        label: \"Kode Jurusan\",\n        field: \"kode_jurusan\",\n        sort: \"asc\",\n        width: 150\n      }, {\n        label: \"Jenis Kelamin\",\n        field: \"jenis_kelamin\",\n        sort: \"asc\",\n        width: 150\n      }, {\n        label: \"Hobi\",\n        field: \"hobi\",\n        sort: \"asc\",\n        width: 150\n      }, {\n        label: \"Kode Kota\",\n        field: \"kode_kota\",\n        sort: \"asc\",\n        width: 150\n      }, {\n        label: \"Action\",\n        field: \"customButton\",\n        sort: \"asc\",\n        width: 150\n      }],\n      rows: this.state.listmahasiswa\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-primary float-right\",\n      onClick: this.createModelHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, \"Add\"), React.createElement(CreateMahasiswa, {\n      create: this.state.createMahasiswa,\n      modalStatus: this.modalStatus,\n      listmahasiswa: this.state.currentMahasiswa,\n      productsList: this.getListHobi(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }), React.createElement(ViewMahasiswa, {\n      listmahasiswa: this.state.currentMahasiswa,\n      view: this.state.viewMahasiswa,\n      modalStatus: this.modalStatus,\n      productsList: this.state.productsListNew,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }), React.createElement(EditMahasiswa, {\n      edit: this.state.editMahasiswa,\n      modalStatus: this.modalStatus,\n      listmahasiswa: this.state.currentMahasiswa,\n      productsList: this.state.productsListNew,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }), React.createElement(DeletMahasiswa, {\n      delete: this.state.deletMahasiswa,\n      modalStatus: this.modalStatus,\n      listmahasiswa: this.state.currentMahasiswa,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }), React.createElement(MDBDataTable, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      data: data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default ListMahasiswa;","map":{"version":3,"sources":["C:/Users/USER/Documents/BELAJAR/BelajarGeh/fe/src/component/content/mahasiswa/ListMahasiswa.js"],"names":["React","apiconfig","ViewMahasiswa","EditMahasiswa","DeletMahasiswa","CreateMahasiswa","axios","Link","MDBDataTable","ListMahasiswa","Component","constructor","props","state","mahasiswa","listmahasiswa","currentMahasiswa","productsListNew","viewModalHandler","bind","editModalHandler","deletedModalHandler","createModelHandler","getListHobi","modalStatus","productsList","name","isChecked","getListMahasiswa","token","localStorage","getItem","LS","TOKEN","option","url","BASE_URL","ENDPOINTS","MAHASISWA","method","headers","then","response","tmp","data","message","map","row","x","customButton","kode_mahasiswa","fontSize","paddingRight","push","nama_mahasiswa","alamat","kode_agama","kode_jurusan","jenis_kelamin","hobi","kode_kota","setState","catch","error","alert","componentDidMount","createMahasiswa","tmpHobi","ele","array","split","rows","forEach","trim","viewMahasiswa","editMahasiswa","deletMahasiswa","render","columns","label","field","sort","width"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport apiconfig from '../../../config/api.config.json'\r\nimport ViewMahasiswa from './viewMahasiswa'\r\nimport EditMahasiswa from './editMahasiswa'\r\nimport DeletMahasiswa from './deletMahasiswa'\r\nimport CreateMahasiswa from './createMahasiswa'\r\nimport axios from 'axios'\r\nimport { Link } from 'react-router-dom'\r\nimport { MDBDataTable} from 'mdbreact'\r\n\r\nclass ListMahasiswa extends React.Component {\r\n    constructor(props){\r\n\r\n        super(props)\r\n        this.state = {\r\n            mahasiswa:[],\r\n            listmahasiswa : [],\r\n            currentMahasiswa : {},\r\n            productsListNew : []\r\n            \r\n        }\r\n        this.viewModalHandler = this.viewModalHandler.bind(this)\r\n        this.editModalHandler = this.editModalHandler.bind(this)\r\n        this.deletedModalHandler = this.deletedModalHandler.bind(this)\r\n        this.createModelHandler = this.createModelHandler.bind(this)\r\n        this.getListHobi = this.getListHobi.bind(this)\r\n        this.modalStatus = this.modalStatus.bind(this)\r\n\r\n    }\r\n\r\n    getListHobi () {\r\n        let productsList  = [\r\n            {name: 'Bermain', isChecked: false},\r\n                {name: 'Makan', isChecked: false},\r\n                {name: 'Tidur', isChecked: false},\r\n                {name: 'Mager', isChecked: false},\r\n          ]\r\n\r\n          return productsList\r\n    }\r\n\r\n    getListMahasiswa () {\r\n        let token = localStorage.getItem(apiconfig.LS.TOKEN)\r\n        let option = {\r\n            url : apiconfig.BASE_URL+apiconfig.ENDPOINTS.MAHASISWA,\r\n            method: \"get\",\r\n            headers: {\r\n                \"Authorization\": token\r\n            }\r\n        }\r\n        axios(option)\r\n        .then((response) => {\r\n            let tmp = []\r\n\r\n            response.data.message.map((row,x) => {\r\n                let customButton = <div class=\"dropdown\">      \r\n                <span class=\"btn btn-primary dropdown-toggle\" \r\n                className=\"fas fa-th-large\" id=\"dropdownMenu2\" \r\n                data-toggle=\"dropdown\" aria-haspopup=\"true\" \r\n                aria-expanded=\"false\" />\r\n                <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenu2\">\r\n                <Link to =\"#\">\r\n                  <button class=\"dropdown-item\" type=\"button\"><span onClick = {() => {this.viewModalHandler(row.kode_mahasiswa)}} class='fa fa-search'\r\n                style={{fontSize : '10px', paddingRight :'8px'}}/></button>\r\n                  <button class=\"dropdown-item\" type=\"button\"><span onClick = {() => {this.editModalHandler(row.kode_mahasiswa)}} class=\"fa fa-edit\"\r\n                style={{fontSize : '10px', paddingRight: '8px'}}/></button>\r\n                  <button class=\"dropdown-item\" type=\"button\"><span onClick = {() => {this.deletedModalHandler(row.kode_mahasiswa)}} class=\"fa fa-trash\"\r\n                style={{fontSize : '10px'}}/></button>\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n\r\n                tmp.push({\"no\" : x+1, \"kode_mahasiswa\" : row.kode_mahasiswa, \"nama_mahasiswa\" : row.nama_mahasiswa,\r\n                \"alamat\" : row.alamat, \"kode_agama\" : row.kode_agama, \"kode_jurusan\" : row.kode_jurusan, \"jenis_kelamin\": row.jenis_kelamin, \"hobi\" : row.hobi, \"kode_kota\" : row.kode_kota, customButton})\r\n            })\r\n\r\n            this.setState({\r\n                listmahasiswa : tmp,\r\n                mahasiswa : response.data.message\r\n\r\n            })\r\n        })\r\n\r\n        .catch ((error) => {\r\n            alert(error)\r\n        })\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getListMahasiswa()\r\n    }\r\n\r\n    createModelHandler() {\r\n        this.setState({\r\n            createMahasiswa : true\r\n        })\r\n    }\r\n\r\n    viewModalHandler (kode_mahasiswa) {\r\n        let tmp = {}\r\n        let tmpHobi = this.getListHobi()\r\n\r\n        this.state.mahasiswa.map((ele) => {\r\n            if (kode_mahasiswa == ele.kode_mahasiswa) {\r\n                tmp = ele\r\n\r\n            }\r\n        })\r\n\r\n        let array = tmp.hobi.split(',')\r\n         \r\n        tmpHobi.map((rows) => {\r\n            \r\n            array.forEach(ele =>{\r\n                if (ele.trim() == rows.name){\r\n                    rows.isChecked = !rows.isChecked\r\n                    \r\n                }\r\n            })\r\n        })\r\n\r\n        this.setState({\r\n            currentMahasiswa : tmp,\r\n            viewMahasiswa : true,\r\n            productsListNew : tmpHobi\r\n        })\r\n\r\n    }\r\n\r\n    editModalHandler(kode_mahasiswa){\r\n        let tmp = {}\r\n        let tmpHobi = this.getListHobi()\r\n\r\n        this.state.mahasiswa.map((ele) => {\r\n            if (kode_mahasiswa == ele.kode_mahasiswa) {\r\n                tmp = ele\r\n            }\r\n        })\r\n\r\n        let array = tmp.hobi.split(',')\r\n         \r\n        tmpHobi.map((rows) => {\r\n            \r\n            array.forEach(ele =>{\r\n                if (ele.trim() == rows.name){\r\n                    rows.isChecked = !rows.isChecked\r\n                    \r\n                }\r\n            })\r\n        })\r\n\r\n        this.setState({\r\n            currentMahasiswa : tmp,\r\n            editMahasiswa : true,\r\n            productsListNew : tmpHobi\r\n        })\r\n\r\n    }\r\n\r\n    deletedModalHandler(kode_mahasiswa) {\r\n        this.state.mahasiswa.map((ele) => {\r\n            if (kode_mahasiswa == ele.kode_mahasiswa) {\r\n                this.setState({\r\n                    currentMahasiswa : ele,\r\n                    deletMahasiswa : true\r\n                })\r\n            }\r\n        })\r\n    }\r\n    \r\n\r\n    modalStatus() {\r\n        this.setState({\r\n            createMahasiswa : false,\r\n            viewMahasiswa : false,\r\n            editMahasiswa : false,\r\n            deletMahasiswa : false\r\n        })\r\n\r\n        this.getListMahasiswa()\r\n    }\r\n\r\n    render () {\r\n        const data = {\r\n            columns : [{\r\n                label : \"No\",\r\n                field : \"no\",\r\n                sort : \"asc\",\r\n                width : 150\r\n            },{\r\n                label : \"Kode Mahasiswa\",\r\n                field : \"kode_mahasiswa\",\r\n                sort : \"asc\",\r\n                width : 150\r\n            },{\r\n                label : \"Nama Mahasiswa\",\r\n                field : \"nama_mahasiswa\",\r\n                sort : \"asc\",\r\n                width : 270\r\n            },{\r\n                label : \"Alamat\",\r\n                field : \"alamat\",\r\n                sort : \"asc\",\r\n                width : 200\r\n            },{\r\n                label : \"Kode Agama\",\r\n                field : \"kode_agama\",\r\n                sort : \"asc\",\r\n                width : 100\r\n            },{\r\n                label : \"Kode Jurusan\",\r\n                field : \"kode_jurusan\",\r\n                sort : \"asc\",\r\n                width : 150\r\n            },{\r\n                label : \"Jenis Kelamin\",\r\n                field : \"jenis_kelamin\",\r\n                sort : \"asc\",\r\n                width : 150\r\n            },{\r\n                label : \"Hobi\",\r\n                field : \"hobi\",\r\n                sort : \"asc\",\r\n                width : 150\r\n            },{\r\n                label : \"Kode Kota\",\r\n                field : \"kode_kota\",\r\n                sort : \"asc\",\r\n                width : 150\r\n            },{\r\n                label : \"Action\",\r\n                field : \"customButton\",\r\n                sort : \"asc\",\r\n                width : 150\r\n            }],\r\n            rows : this.state.listmahasiswa\r\n            }\r\n            return (\r\n                <div>\r\n                    <button type = \"button\" class = \"btn btn-primary float-right\"\r\n                    onClick = {this.createModelHandler} >Add</button>\r\n\r\n                    <CreateMahasiswa\r\n                        create = {this.state.createMahasiswa}\r\n                        modalStatus = {this.modalStatus}\r\n                        listmahasiswa = {this.state.currentMahasiswa}\r\n                        productsList = {this.getListHobi()}\r\n                    />\r\n\r\n                    <ViewMahasiswa\r\n                        listmahasiswa = {this.state.currentMahasiswa}\r\n                        view = {this.state.viewMahasiswa}\r\n                        modalStatus = {this.modalStatus}\r\n                        productsList = {this.state.productsListNew}\r\n                    />\r\n\r\n                    <EditMahasiswa\r\n                        edit = {this.state.editMahasiswa}\r\n                        modalStatus = {this.modalStatus}\r\n                        listmahasiswa = {this.state.currentMahasiswa}\r\n                        productsList = {this.state.productsListNew}\r\n                    />\r\n\r\n                    <DeletMahasiswa\r\n                        delete = {this.state.deletMahasiswa}\r\n                        modalStatus = {this.modalStatus}\r\n                        listmahasiswa = {this.state.currentMahasiswa}\r\n                    />\r\n\r\n                    <MDBDataTable striped bordered hover data = {data}/>\r\n                </div>\r\n            )  \r\n    }\r\n}\r\n\r\nexport default ListMahasiswa"]},"metadata":{},"sourceType":"module"}